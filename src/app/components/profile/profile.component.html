<div class="mt-5 mb-5 textcolorwhite">
  <p class="text-white">ESB</p>
</div>
<div class="container mt-3">
  <ng-container *ngIf="user | async as u; else failureOrLading">
  <div class="card shadow">
    <div class="card-header text-center">
      <b>MON PROFILE</b>
    </div>
    <div class="card-body">
      <div class="row">
        <div class="col-md-6">
          <div class="mb-3">
            <label><b>IDENTIFIANT : </b></label>{{u.userId}}
          </div>
          <div class="mb-3">
            <label><b>PRENOM : </b></label>{{u.firstname}}
          </div>
          <div class="mb-3">
            <label><b>NOM : </b></label>{{u.name}}
          </div>
          <div class="mb-3">
            <label><b>EMAIL : </b></label>{{u.email}}
          </div>
          <div class="mb-3">
            <label><b>NOM D'UTILISATEUR : </b></label>{{u.username}}
          </div>
          <div class="mb-3">
            <button class="btn bg-red text-white" (click)="uploadImage()">Ajouter une image</button>
          </div>
        </div>
        <div class="col-md-6">
          <div class="text-end">
           <img src="{{imageStr}}" alt="photo de profile" height="300" width="250" class="rounded">
          </div>
        </div>
      </div>
    </div>
  </div>
  </ng-container>
  <ng-template #failureOrLading>
    <ng-container *ngIf="errorMessage; else loading">
      <div class="text-danger">
        {{errorMessage}}
      </div>
    </ng-container>
    <ng-template #loading>
      <div class="progress">
        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 75%"></div>
      </div>
      Chargement en cours, veulliez patientez ...
    </ng-template>
  </ng-template>
</div>
